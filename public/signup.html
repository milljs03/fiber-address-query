<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Your Order</title>
    <link rel="stylesheet" href="signup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>

    <!-- Header -->
    <header class="site-header">
        <div class="logo-container">
            <div class="logo-left">
                <img src="logos/community-fiber-logo.png" alt="Community Fiber" class="logo-img">
            </div>
            <div class="logo-right">
                <img src="logos/NPtech-logo.png" alt="NP Tech" class="logo-img">
            </div>
        </div>
    </header>

    <main class="main-wrapper">
        <div class="signup-layout">
            
            <!-- Left Column: Form -->
            <div class="form-container">
                <div class="form-header">
                    <h2>Finalize Order</h2>
                    <p>You're one step closer to fiber internet.</p>
                </div>

                <form id="orderForm">
                    
                    <!-- SECTION 1: Personal Info -->
                    <div class="form-section">
                        <div class="section-title"><span>1</span> Contact Information</div>
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" name="name" placeholder="John Doe" required>
                        </div>

                        <div class="form-group-row">
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" name="email" placeholder="john@example.com" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="phone" placeholder="(555) 123-4567" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="address">Service Address</label>
                            <div class="readonly-input-wrapper">
                                <input type="text" id="address" name="address" readonly>
                                <i class="fa-solid fa-lock"></i>
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 2: Selected Plan Display -->
                    <div class="form-section">
                        <div class="section-title"><span>2</span> Your Selected Plan</div>
                        <!-- This container is populated by JS -->
                        <div id="selected-plan-display" class="plan-display-card">
                            <div class="plan-loading">Loading plan details...</div>
                        </div>
                        <input type="hidden" id="selected-plan" name="plan">
                    </div>

                    <!-- SECTION 3: Add-ons (Rectangular Cards) -->
                    <div class="form-section">
                        <div class="section-title"><span>3</span>Optional Add-Ons</div>
                        <div class="addons-grid">
                            
                            <!-- Phone Service Card -->
                            <label class="addon-card" id="card-phone">
                                <input type="checkbox" id="addon-phone" name="addon-phone">
                                <div class="addon-content">
                                    <div class="addon-icon"><i class="fa-solid fa-phone"></i></div>
                                    <div class="addon-details">
                                        <div class="addon-name">Home Phone Service</div>
                                    
                                        <div class="addon-desc" style="margin-top: 5px;">Keep your existing home number and have it ported to Community Fiber.</div>
                                    </div>
                                    <div class="addon-price">+$20.65<small>/mo</small></div>
                                </div>
                                <div class="selected-check"><i class="fa-solid fa-circle-check"></i></div>
                            </label>
                            
                            <!-- Long Distance (Hidden initially via JS logic) -->
                            <label class="addon-card nested-card" id="card-long-distance">
                                <input type="checkbox" id="addon-long-distance" name="addon-long-distance">
                                <div class="addon-content">
                                    <div class="addon-icon"><i class="fa-solid fa-earth-americas"></i></div>
                                    <div class="addon-details">
                                        <div class="addon-name">Unlimited Long Distance</div>
                                        <div class="addon-desc">Call anywhere, anytime.</div>
                                    </div>
                                    <div class="addon-price">+$4.95<small>/mo</small></div>
                                </div>
                                <div class="selected-check"><i class="fa-solid fa-circle-check"></i></div>
                            </label>

                            <!-- Router Card -->
                        

                        </div>
                    </div>

                    <!-- SECTION 4: Finalize -->
                    <div class="form-section">
                        <div class="section-title"><span>4</span> Complete Order</div>
                        


                        <!-- Notice Box moved here -->
                        <div class="notice-box">
                            <i class="fa-solid fa-circle-info"></i>
                            <p><strong>Next Steps:</strong> One of our employees will reach out to confirm availability and set up your billing profile.</p>
                        </div>

                        <!-- reCAPTCHA -->
                        <div class="g-recaptcha" data-sitekey="6Lduo28rAAAAAJtiCUnbRY4z_WagijZjllGt8xZS"></div>

                        <div class="form-footer">
                            <button type="submit" id="submit-btn">Place Order</button>
                        </div>
                    </div>

                </form>
            </div>

            <!-- Right Column: Order Summary (Dynamic Plan Card) -->
            <div class="summary-container">
                <h3>Order Preview</h3>
                <div id="plan-card-container">
                    <!-- The selected plan card will be injected here by JS -->
                </div>
            </div>

        </div>
    </main>

    <footer class="footer-container">
        <p>&copy; 2024 NPTech & Community Fiber. All rights reserved.</p>
    </footer>

    <script type="module" src="signup.js"></script>
</body>
</html>